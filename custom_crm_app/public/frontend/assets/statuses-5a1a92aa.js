import{I as C}from"./IndicatorIcon-6cac9012.js";import{ak as I,p as u,Z as L,ai as M}from"./index-a3e8239b.js";import{x as S}from"./index-98a0eb06.js";import{createListResource as l}from"../node_modules/frappe-ui/src/resources/listResource.js";const w=I("crm-statuses",()=>{let r=u({}),s=u({}),B=u({});const m=l({doctype:"CRM Lead Status",fields:["name","color","position"],orderBy:"position asc",cache:"lead-statuses",initialData:[],auto:!0,transform(t){for(let a of t)a.color=S(a.color),r[a.name]=a;return t}}),f=l({doctype:"CRM Deal Status",fields:["name","color","position","type"],orderBy:"position asc",cache:"deal-statuses",initialData:[],auto:!0,transform(t){for(let a of t)a.color=S(a.color),s[a.name]=a;return t}}),i=l({doctype:"CRM Communication Status",fields:["name"],cache:"communication-statuses",initialData:[],auto:!0,transform(t){for(let a of t)B[a.name]=a;return t}});function D(t){return t||(t=m.data[0].name),r[t]}function N(t){return t||(t=f.data[0].name),s[t]}function R(t){return t||(t=i.data[0].name),i[t]}function h(t,a=[],c=null){var p,y;let n=t=="deal"?s:r;a!=null&&a.length&&(n=a.reduce((o,e)=>(o[e]=n[e],o),{}));let d=[];for(const o in n)d.push({label:(p=n[o])==null?void 0:p.name,value:(y=n[o])==null?void 0:y.name,icon:()=>{var e;return L(C,{class:(e=n[o])==null?void 0:e.color})},onClick:async()=>{var e;await(c==null?void 0:c((e=n[o])==null?void 0:e.name)),M("status_changed",{doctype:t,status:o})}});return d}return{leadStatuses:m,dealStatuses:f,communicationStatuses:i,getLeadStatus:D,getDealStatus:N,getCommunicationStatus:R,statusOptions:h}});export{w as s};
//# sourceMappingURL=statuses-5a1a92aa.js.map
