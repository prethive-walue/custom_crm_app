{"version":3,"file":"modals-8694ff32.js","sources":["../../../../frontend/node_modules/reka-ui/dist/RovingFocus/RovingFocusItem.js","../../../../frontend/node_modules/reka-ui/dist/Tabs/TabsRoot.js","../../../../frontend/node_modules/reka-ui/dist/Tabs/utils.js","../../../../frontend/node_modules/reka-ui/dist/Tabs/TabsContent.js","../../../../frontend/node_modules/reka-ui/dist/Tabs/TabsIndicator.js","../../../../frontend/node_modules/reka-ui/dist/Tabs/TabsList.js","../../../../frontend/node_modules/reka-ui/dist/Tabs/TabsTrigger.js","../../../../frontend/node_modules/frappe-ui/src/components/Tabs/Tabs.vue","../../../../frontend/src/components/Section.vue","../../../../frontend/src/components/KeyboardShortcut.vue","../../../../frontend/src/components/Controls/Password.vue","../../../../frontend/src/components/Controls/FormattedInput.vue","../../../../frontend/src/data/script.js","../../../../frontend/src/data/document.js","../../../../frontend/src/composables/modals.js"],"sourcesContent":["import { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { useCollection } from \"../Collection/Collection.js\";\nimport { focusFirst, getFocusIntent, wrapArray } from \"./utils.js\";\nimport { injectRovingFocusGroupContext } from \"./RovingFocusGroup.js\";\nimport { computed, createBlock, createVNode, defineComponent, nextTick, onMounted, onUnmounted, openBlock, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/RovingFocus/RovingFocusItem.vue?vue&type=script&setup=true&lang.ts\nvar RovingFocusItem_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"RovingFocusItem\",\n\tprops: {\n\t\ttabStopId: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tfocusable: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tactive: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tallowShiftKey: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"span\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst context = injectRovingFocusGroupContext();\n\t\tconst randomId = useId();\n\t\tconst id = computed(() => props.tabStopId || randomId);\n\t\tconst isCurrentTabStop = computed(() => context.currentTabStopId.value === id.value);\n\t\tconst { getItems, CollectionItem } = useCollection();\n\t\tonMounted(() => {\n\t\t\tif (props.focusable) context.onFocusableItemAdd();\n\t\t});\n\t\tonUnmounted(() => {\n\t\t\tif (props.focusable) context.onFocusableItemRemove();\n\t\t});\n\t\tfunction handleKeydown(event) {\n\t\t\tif (event.key === \"Tab\" && event.shiftKey) {\n\t\t\t\tcontext.onItemShiftTab();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.target !== event.currentTarget) return;\n\t\t\tconst focusIntent = getFocusIntent(event, context.orientation.value, context.dir.value);\n\t\t\tif (focusIntent !== void 0) {\n\t\t\t\tif (event.metaKey || event.ctrlKey || event.altKey || (props.allowShiftKey ? false : event.shiftKey)) return;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tlet candidateNodes = [...getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\")];\n\t\t\t\tif (focusIntent === \"last\") candidateNodes.reverse();\n\t\t\t\telse if (focusIntent === \"prev\" || focusIntent === \"next\") {\n\t\t\t\t\tif (focusIntent === \"prev\") candidateNodes.reverse();\n\t\t\t\t\tconst currentIndex = candidateNodes.indexOf(event.currentTarget);\n\t\t\t\t\tcandidateNodes = context.loop.value ? wrapArray(candidateNodes, currentIndex + 1) : candidateNodes.slice(currentIndex + 1);\n\t\t\t\t}\n\t\t\t\tnextTick(() => focusFirst(candidateNodes));\n\t\t\t}\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(CollectionItem), null, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\ttabindex: isCurrentTabStop.value ? 0 : -1,\n\t\t\t\t\t\"data-orientation\": unref(context).orientation.value,\n\t\t\t\t\t\"data-active\": _ctx.active ? \"\" : void 0,\n\t\t\t\t\t\"data-disabled\": !_ctx.focusable ? \"\" : void 0,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = (event) => {\n\t\t\t\t\t\tif (!_ctx.focusable) event.preventDefault();\n\t\t\t\t\t\telse unref(context).onItemFocus(id.value);\n\t\t\t\t\t}),\n\t\t\t\t\tonFocus: _cache[1] || (_cache[1] = ($event) => unref(context).onItemFocus(id.value)),\n\t\t\t\t\tonKeydown: handleKeydown\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"tabindex\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"data-active\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t});\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/RovingFocus/RovingFocusItem.vue\nvar RovingFocusItem_default = RovingFocusItem_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { RovingFocusItem_default };\n//# sourceMappingURL=RovingFocusItem.js.map","import { createContext } from \"../shared/createContext.js\";\nimport { useDirection } from \"../shared/useDirection.js\";\nimport { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { useId } from \"../shared/useId.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { createBlock, defineComponent, openBlock, ref, renderSlot, toRefs, unref, withCtx } from \"vue\";\nimport { useVModel } from \"@vueuse/core\";\n\n//#region src/Tabs/TabsRoot.vue?vue&type=script&setup=true&lang.ts\nconst [injectTabsRootContext, provideTabsRootContext] = createContext(\"TabsRoot\");\nvar TabsRoot_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"TabsRoot\",\n\tprops: {\n\t\tdefaultValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\torientation: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"horizontal\"\n\t\t},\n\t\tdir: {\n\t\t\ttype: String,\n\t\t\trequired: false\n\t\t},\n\t\tactivationMode: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: \"automatic\"\n\t\t},\n\t\tmodelValue: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t},\n\t\tunmountOnHide: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\temits: [\"update:modelValue\"],\n\tsetup(__props, { emit: __emit }) {\n\t\tconst props = __props;\n\t\tconst emits = __emit;\n\t\tconst { orientation, unmountOnHide, dir: propDir } = toRefs(props);\n\t\tconst dir = useDirection(propDir);\n\t\tuseForwardExpose();\n\t\tconst modelValue = useVModel(props, \"modelValue\", emits, {\n\t\t\tdefaultValue: props.defaultValue,\n\t\t\tpassive: props.modelValue === void 0\n\t\t});\n\t\tconst tabsList = ref();\n\t\tprovideTabsRootContext({\n\t\t\tmodelValue,\n\t\t\tchangeModelValue: (value) => {\n\t\t\t\tmodelValue.value = value;\n\t\t\t},\n\t\t\torientation,\n\t\t\tdir,\n\t\t\tunmountOnHide,\n\t\t\tactivationMode: props.activationMode,\n\t\t\tbaseId: useId(void 0, \"reka-tabs\"),\n\t\t\ttabsList\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Primitive), {\n\t\t\t\tdir: unref(dir),\n\t\t\t\t\"data-orientation\": unref(orientation),\n\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\tas: _ctx.as\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\", { modelValue: unref(modelValue) })]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"dir\",\n\t\t\t\t\"data-orientation\",\n\t\t\t\t\"as-child\",\n\t\t\t\t\"as\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Tabs/TabsRoot.vue\nvar TabsRoot_default = TabsRoot_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { TabsRoot_default, injectTabsRootContext };\n//# sourceMappingURL=TabsRoot.js.map","//#region src/Tabs/utils.ts\nfunction makeTriggerId(baseId, value) {\n\treturn `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n\treturn `${baseId}-content-${value}`;\n}\n\n//#endregion\nexport { makeContentId, makeTriggerId };\n//# sourceMappingURL=utils.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Presence_default } from \"../Presence/Presence.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectTabsRootContext } from \"./TabsRoot.js\";\nimport { makeContentId, makeTriggerId } from \"./utils.js\";\nimport { computed, createBlock, createCommentVNode, createVNode, defineComponent, normalizeStyle, onMounted, openBlock, ref, renderSlot, unref, withCtx } from \"vue\";\n\n//#region src/Tabs/TabsContent.vue?vue&type=script&setup=true&lang.ts\nvar TabsContent_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"TabsContent\",\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t},\n\t\tforceMount: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst rootContext = injectTabsRootContext();\n\t\tconst triggerId = computed(() => makeTriggerId(rootContext.baseId, props.value));\n\t\tconst contentId = computed(() => makeContentId(rootContext.baseId, props.value));\n\t\tconst isSelected = computed(() => props.value === rootContext.modelValue.value);\n\t\tconst isMountAnimationPreventedRef = ref(isSelected.value);\n\t\tonMounted(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tisMountAnimationPreventedRef.value = false;\n\t\t\t});\n\t\t});\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(Presence_default), {\n\t\t\t\tpresent: _ctx.forceMount || isSelected.value,\n\t\t\t\t\"force-mount\": \"\"\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(({ present }) => [createVNode(unref(Primitive), {\n\t\t\t\t\tid: contentId.value,\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\trole: \"tabpanel\",\n\t\t\t\t\t\"data-state\": isSelected.value ? \"active\" : \"inactive\",\n\t\t\t\t\t\"data-orientation\": unref(rootContext).orientation.value,\n\t\t\t\t\t\"aria-labelledby\": triggerId.value,\n\t\t\t\t\thidden: !present,\n\t\t\t\t\ttabindex: \"0\",\n\t\t\t\t\tstyle: normalizeStyle({ animationDuration: isMountAnimationPreventedRef.value ? \"0s\" : void 0 })\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [(unref(rootContext).unmountOnHide.value ? present : true) ? renderSlot(_ctx.$slots, \"default\", { key: 0 }) : createCommentVNode(\"v-if\", true)]),\n\t\t\t\t\t_: 2\n\t\t\t\t}, 1032, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\"data-orientation\",\n\t\t\t\t\t\"aria-labelledby\",\n\t\t\t\t\t\"hidden\",\n\t\t\t\t\t\"style\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"present\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Tabs/TabsContent.vue\nvar TabsContent_default = TabsContent_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { TabsContent_default };\n//# sourceMappingURL=TabsContent.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { injectTabsRootContext } from \"./TabsRoot.js\";\nimport { createBlock, createCommentVNode, defineComponent, mergeProps, nextTick, openBlock, ref, renderSlot, unref, watch, withCtx } from \"vue\";\nimport { useResizeObserver } from \"@vueuse/core\";\n\n//#region src/Tabs/TabsIndicator.vue?vue&type=script&setup=true&lang.ts\nvar TabsIndicator_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"TabsIndicator\",\n\tprops: {\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst context = injectTabsRootContext();\n\t\tuseForwardExpose();\n\t\tconst activeTab = ref();\n\t\tconst indicatorStyle = ref({\n\t\t\tsize: null,\n\t\t\tposition: null\n\t\t});\n\t\twatch(() => [context.modelValue.value, context?.dir.value], async () => {\n\t\t\tawait nextTick();\n\t\t\tupdateIndicatorStyle();\n\t\t}, { immediate: true });\n\t\tuseResizeObserver([context.tabsList, activeTab], updateIndicatorStyle);\n\t\tfunction updateIndicatorStyle() {\n\t\t\tactiveTab.value = context.tabsList.value?.querySelector(\"[role=\\\"tab\\\"][data-state=\\\"active\\\"]\");\n\t\t\tif (!activeTab.value) return;\n\t\t\tif (context.orientation.value === \"horizontal\") indicatorStyle.value = {\n\t\t\t\tsize: activeTab.value.offsetWidth,\n\t\t\t\tposition: activeTab.value.offsetLeft\n\t\t\t};\n\t\t\telse indicatorStyle.value = {\n\t\t\t\tsize: activeTab.value.offsetHeight,\n\t\t\t\tposition: activeTab.value.offsetTop\n\t\t\t};\n\t\t}\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn typeof indicatorStyle.value.size === \"number\" ? (openBlock(), createBlock(unref(Primitive), mergeProps({ key: 0 }, props, { style: {\n\t\t\t\t\"--reka-tabs-indicator-size\": `${indicatorStyle.value.size}px`,\n\t\t\t\t\"--reka-tabs-indicator-position\": `${indicatorStyle.value.position}px`\n\t\t\t} }), {\n\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t_: 3\n\t\t\t}, 16, [\"style\"])) : createCommentVNode(\"v-if\", true);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Tabs/TabsIndicator.vue\nvar TabsIndicator_default = TabsIndicator_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { TabsIndicator_default };\n//# sourceMappingURL=TabsIndicator.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { RovingFocusGroup_default } from \"../RovingFocus/RovingFocusGroup.js\";\nimport { injectTabsRootContext } from \"./TabsRoot.js\";\nimport { createBlock, createVNode, defineComponent, openBlock, renderSlot, toRefs, unref, withCtx } from \"vue\";\n\n//#region src/Tabs/TabsList.vue?vue&type=script&setup=true&lang.ts\nvar TabsList_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"TabsList\",\n\tprops: {\n\t\tloop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { loop } = toRefs(props);\n\t\tconst { forwardRef, currentElement } = useForwardExpose();\n\t\tconst context = injectTabsRootContext();\n\t\tcontext.tabsList = currentElement;\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(RovingFocusGroup_default), {\n\t\t\t\t\"as-child\": \"\",\n\t\t\t\torientation: unref(context).orientation.value,\n\t\t\t\tdir: unref(context).dir.value,\n\t\t\t\tloop: unref(loop)\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\trole: \"tablist\",\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"aria-orientation\": unref(context).orientation.value\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"aria-orientation\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\n\t\t\t\t\"orientation\",\n\t\t\t\t\"dir\",\n\t\t\t\t\"loop\"\n\t\t\t]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Tabs/TabsList.vue\nvar TabsList_default = TabsList_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { TabsList_default };\n//# sourceMappingURL=TabsList.js.map","import { useForwardExpose } from \"../shared/useForwardExpose.js\";\nimport { Primitive } from \"../Primitive/Primitive.js\";\nimport { RovingFocusItem_default } from \"../RovingFocus/RovingFocusItem.js\";\nimport { injectTabsRootContext } from \"./TabsRoot.js\";\nimport { makeContentId, makeTriggerId } from \"./utils.js\";\nimport { computed, createBlock, createVNode, defineComponent, openBlock, renderSlot, unref, withCtx, withKeys, withModifiers } from \"vue\";\n\n//#region src/Tabs/TabsTrigger.vue?vue&type=script&setup=true&lang.ts\nvar TabsTrigger_vue_vue_type_script_setup_true_lang_default = /* @__PURE__ */ defineComponent({\n\t__name: \"TabsTrigger\",\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\tasChild: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false\n\t\t},\n\t\tas: {\n\t\t\ttype: null,\n\t\t\trequired: false,\n\t\t\tdefault: \"button\"\n\t\t}\n\t},\n\tsetup(__props) {\n\t\tconst props = __props;\n\t\tconst { forwardRef } = useForwardExpose();\n\t\tconst rootContext = injectTabsRootContext();\n\t\tconst triggerId = computed(() => makeTriggerId(rootContext.baseId, props.value));\n\t\tconst contentId = computed(() => makeContentId(rootContext.baseId, props.value));\n\t\tconst isSelected = computed(() => props.value === rootContext.modelValue.value);\n\t\treturn (_ctx, _cache) => {\n\t\t\treturn openBlock(), createBlock(unref(RovingFocusItem_default), {\n\t\t\t\t\"as-child\": \"\",\n\t\t\t\tfocusable: !_ctx.disabled,\n\t\t\t\tactive: isSelected.value\n\t\t\t}, {\n\t\t\t\tdefault: withCtx(() => [createVNode(unref(Primitive), {\n\t\t\t\t\tid: triggerId.value,\n\t\t\t\t\tref: unref(forwardRef),\n\t\t\t\t\trole: \"tab\",\n\t\t\t\t\ttype: _ctx.as === \"button\" ? \"button\" : void 0,\n\t\t\t\t\tas: _ctx.as,\n\t\t\t\t\t\"as-child\": _ctx.asChild,\n\t\t\t\t\t\"aria-selected\": isSelected.value ? \"true\" : \"false\",\n\t\t\t\t\t\"aria-controls\": contentId.value,\n\t\t\t\t\t\"data-state\": isSelected.value ? \"active\" : \"inactive\",\n\t\t\t\t\tdisabled: _ctx.disabled,\n\t\t\t\t\t\"data-disabled\": _ctx.disabled ? \"\" : void 0,\n\t\t\t\t\t\"data-orientation\": unref(rootContext).orientation.value,\n\t\t\t\t\tonMousedown: _cache[0] || (_cache[0] = withModifiers((event) => {\n\t\t\t\t\t\tif (!_ctx.disabled && event.ctrlKey === false) unref(rootContext).changeModelValue(_ctx.value);\n\t\t\t\t\t\telse event.preventDefault();\n\t\t\t\t\t}, [\"left\"])),\n\t\t\t\t\tonKeydown: _cache[1] || (_cache[1] = withKeys(($event) => unref(rootContext).changeModelValue(_ctx.value), [\"enter\", \"space\"])),\n\t\t\t\t\tonFocus: _cache[2] || (_cache[2] = () => {\n\t\t\t\t\t\tconst isAutomaticActivation = unref(rootContext).activationMode !== \"manual\";\n\t\t\t\t\t\tif (!isSelected.value && !_ctx.disabled && isAutomaticActivation) unref(rootContext).changeModelValue(_ctx.value);\n\t\t\t\t\t})\n\t\t\t\t}, {\n\t\t\t\t\tdefault: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n\t\t\t\t\t_: 3\n\t\t\t\t}, 8, [\n\t\t\t\t\t\"id\",\n\t\t\t\t\t\"type\",\n\t\t\t\t\t\"as\",\n\t\t\t\t\t\"as-child\",\n\t\t\t\t\t\"aria-selected\",\n\t\t\t\t\t\"aria-controls\",\n\t\t\t\t\t\"data-state\",\n\t\t\t\t\t\"disabled\",\n\t\t\t\t\t\"data-disabled\",\n\t\t\t\t\t\"data-orientation\"\n\t\t\t\t])]),\n\t\t\t\t_: 3\n\t\t\t}, 8, [\"focusable\", \"active\"]);\n\t\t};\n\t}\n});\n\n//#endregion\n//#region src/Tabs/TabsTrigger.vue\nvar TabsTrigger_default = TabsTrigger_vue_vue_type_script_setup_true_lang_default;\n\n//#endregion\nexport { TabsTrigger_default };\n//# sourceMappingURL=TabsTrigger.js.map","<script setup lang=\"ts\">\nimport {\n  TabsContent,\n  TabsIndicator,\n  TabsList,\n  TabsRoot,\n  TabsTrigger,\n} from 'reka-ui'\n\nimport type { TabProps } from './types'\nimport { h } from 'vue'\n\nconst props = defineProps<TabProps>()\nconst model = defineModel<string | number>({ default: 0 })\n\nconst indicatorXCss = `left-0 bottom-0 h-[2px] w-[--reka-tabs-indicator-size] transition-[width,transform]\n                          translate-x-[--reka-tabs-indicator-position] translate-y-[1px]`\n\nconst indicatorYCss = `right-0 top-0 w-[2px] h-[--reka-tabs-indicator-size]\n                       translate-y-[--reka-tabs-indicator-position] transition-[height,transform]`\n\n// Using a plain <button> element via `h('button')` to avoid picking up\n// the globally registered Button component and its styles.\nconst Btn = h('button')\n</script>\n\n<template>\n  <TabsRoot\n    :as=\"props.as\"\n    class=\"flex flex-1 overflow-hidden flex-col data-[orientation=vertical]:flex-row\"\n    :orientation=\"props.vertical ? 'vertical' : 'horizontal'\"\n    :default-value=\"props.tabs[0].label\"\n    v-model=\"model\"\n  >\n    <TabsList\n      class=\"relative min-h-fit flex data-[orientation=vertical]:flex-col p-1 border-b data-[orientation=vertical]:border-r gap-5\"\n      :class=\"{\n        'overflow-x-auto overflow-y-hidden px-5': !props.vertical,\n        'py-3': props.vertical,\n      }\"\n    >\n      <TabsIndicator\n        class=\"absolute rounded-full duration-300\"\n        :class=\"props.vertical ? indicatorYCss : indicatorXCss\"\n      >\n        <div class=\"w-full h-full bg-surface-gray-7\" />\n      </TabsIndicator>\n\n      <TabsTrigger as=\"template\" v-for=\"(tab, i) in props.tabs\" :value=\"i\">\n        <slot name=\"tab-item\" v-bind=\"{ tab }\">\n          <component\n            :is=\"tab.route ? 'router-link' : Btn\"\n            :to=\"tab.route\"\n            class=\"flex items-center gap-1.5 text-base text-ink-gray-5 duration-300 ease-in-out hover:text-ink-gray-9 data-[state=active]:text-ink-gray-9\"\n            :class=\"{ 'px-2.5': props.vertical, 'py-2.5': !props.vertical }\"\n          >\n            <component v-if=\"tab.icon\" :is=\"tab.icon\" class=\"size-4\">\n            </component>\n\n            {{ tab.label }}\n          </component>\n        </slot>\n      </TabsTrigger>\n    </TabsList>\n\n    <TabsContent\n      v-for=\"(tab, i) in props.tabs\"\n      :value=\"i\"\n      class=\"flex flex-col overflow-auto\"\n    >\n      <slot name=\"tab-panel\" v-bind=\"{ tab }\" />\n    </TabsContent>\n  </TabsRoot>\n</template>\n","<template>\n  <div>\n    <slot name=\"header\" v-bind=\"{ opened, hide, open, close, toggle }\">\n      <div\n        v-if=\"!hide\"\n        class=\"section-header flex items-center justify-between\"\n        :class=\"headerClass\"\n      >\n        <div\n          class=\"flex text-ink-gray-9 max-w-fit cursor-pointer items-center gap-2 text-base\"\n          :class=\"labelClass\"\n          @click=\"collapsible && toggle()\"\n        >\n          <FeatherIcon\n            v-if=\"collapsible && collapseIconPosition === 'left'\"\n            name=\"chevron-right\"\n            class=\"h-4 transition-all duration-300 ease-in-out\"\n            :class=\"{ 'rotate-90': opened }\"\n          />\n          <span>\n            {{ __(label) || __('Untitled') }}\n          </span>\n          <FeatherIcon\n            v-if=\"collapsible && collapseIconPosition === 'right'\"\n            name=\"chevron-right\"\n            class=\"h-4 transition-all duration-300 ease-in-out\"\n            :class=\"{ 'rotate-90': opened }\"\n          />\n        </div>\n        <slot name=\"actions\"></slot>\n      </div>\n    </slot>\n    <transition\n      enter-active-class=\"duration-300 ease-in\"\n      leave-active-class=\"duration-300 ease-[cubic-bezier(0, 1, 0.5, 1)]\"\n      enter-to-class=\"max-h-[200px] overflow-hidden\"\n      leave-from-class=\"max-h-[200px] overflow-hidden\"\n      enter-from-class=\"max-h-0 overflow-hidden\"\n      leave-to-class=\"max-h-0 overflow-hidden\"\n    >\n      <div class=\"columns\" v-bind=\"$attrs\" v-show=\"opened\">\n        <slot v-bind=\"{ opened, open, close, toggle }\" />\n      </div>\n    </transition>\n  </div>\n</template>\n<script setup>\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  label: {\n    type: String,\n    default: '',\n  },\n  hideLabel: {\n    type: Boolean,\n    default: false,\n  },\n  opened: {\n    type: Boolean,\n    default: true,\n  },\n  collapsible: {\n    type: Boolean,\n    default: true,\n  },\n  collapseIconPosition: {\n    type: String,\n    default: 'left',\n  },\n  labelClass: {\n    type: [String, Object, Array],\n    default: '',\n  },\n  headerClass: {\n    type: [String, Object, Array],\n    default: '',\n  },\n})\n\nconst hide = ref(props.hideLabel)\nconst opened = ref(props.opened)\n\nfunction toggle() {\n  opened.value = !opened.value\n}\n\nfunction open() {\n  opened.value = true\n}\n\nfunction close() {\n  opened.value = false\n}\n</script>\n<script>\nexport default {\n  inheritAttrs: false,\n}\n</script>\n","<template>\n  <div\n    class=\"inline-flex items-center gap-0.5 text-sm\"\n    :class=\"{\n      'bg-surface-gray-2 rounded-sm text-ink-gray-5 py-0.5 px-1': bg,\n      'text-ink-gray-4': !bg,\n    }\"\n  >\n    <span v-if=\"ctrl || meta\">\n      <LucideCommand v-if=\"isMac\" class=\"w-3 h-3\" />\n      <span v-else>Ctrl</span>\n    </span>\n    <span v-if=\"shift\"><LucideShift class=\"w-3 h-3\" /></span>\n    <span v-if=\"alt\"><LucideAlt class=\"w-3 h-3\" /></span>\n    <slot></slot>\n  </div>\n</template>\n<script setup>\nimport LucideCommand from '~icons/lucide/command'\nimport LucideShift from '~icons/lucide/arrow-big-up'\nimport LucideAlt from '~icons/lucide/option'\n\nconst isMac = navigator.userAgent.includes('Mac')\n\ndefineProps({\n  meta: Boolean,\n  ctrl: Boolean,\n  shift: Boolean,\n  alt: Boolean,\n  shortcut: String,\n  bg: Boolean,\n})\n</script>\n","<template>\n  <FormControl\n    :type=\"show ? 'text' : 'password'\"\n    :value=\"modelValue || value\"\n    v-bind=\"$attrs\"\n    @keydown.meta.i.prevent=\"show = !show\"\n    @keydown.ctrl.i.prevent=\"show = !show\"\n  >\n    <template #prefix v-if=\"$slots.prefix\">\n      <slot name=\"prefix\" />\n    </template>\n    <template #suffix>\n      <Tooltip>\n        <template #body>\n          <div\n            class=\"rounded bg-surface-gray-7 py-1.5 px-2 text-xs text-ink-white shadow-xl\"\n          >\n            <span class=\"flex items-center gap-1\">\n              {{ show ? __('Hide Password') : __('Show Password') }}\n              <KeyboardShortcut\n                bg\n                ctrl\n                class=\"!bg-surface-gray-5 !text-ink-gray-2 px-1\"\n              >\n                <span class=\"font-mono leading-none tracking-widest\">+I</span>\n              </KeyboardShortcut>\n            </span>\n          </div>\n        </template>\n        <div>\n          <FeatherIcon\n            v-show=\"showEye\"\n            :name=\"show ? 'eye-off' : 'eye'\"\n            class=\"h-3 cursor-pointer mr-1\"\n            @click=\"show = !show\"\n          />\n        </div>\n      </Tooltip>\n    </template>\n  </FormControl>\n</template>\n<script setup>\nimport KeyboardShortcut from '@/components/KeyboardShortcut.vue'\nimport { FormControl, Tooltip } from 'frappe-ui'\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  modelValue: {\n    type: [String, Number],\n    default: '',\n  },\n  value: {\n    type: [String, Number],\n    default: '',\n  },\n})\nconst show = ref(false)\nconst showEye = computed(() => {\n  let v = props.modelValue || props.value\n  return !v?.includes('*')\n})\n</script>\n","<template>\n  <TextInput\n    ref=\"inputRef\"\n    :value=\"displayValue\"\n    @focus=\"handleFocus\"\n    @blur=\"isFocused = false\"\n    v-bind=\"$attrs\"\n  />\n  <slot name=\"description\">\n    <p v-if=\"attrs.description\" class=\"mt-1.5\" :class=\"descriptionClasses\">\n      {{ attrs.description }}\n    </p>\n  </slot>\n</template>\n<script setup>\nimport { TextInput } from 'frappe-ui'\nimport { ref, computed, nextTick, useAttrs } from 'vue'\n\nconst props = defineProps({\n  value: {\n    type: [String, Number],\n    default: '',\n  },\n  formattedValue: {\n    type: [String, Number],\n    default: '',\n  },\n})\n\nconst attrs = useAttrs()\n\nconst isFocused = ref(false)\nconst inputRef = ref(null)\n\nfunction handleFocus() {\n  isFocused.value = true\n\n  nextTick(() => {\n    if (inputRef.value) {\n      inputRef.value.el?.select()\n    }\n  })\n}\n\nconst displayValue = computed(() => {\n  return isFocused.value ? props.value : props.formattedValue || props.value\n})\n\nconst descriptionClasses = computed(() => {\n  return [\n    {\n      sm: 'text-xs',\n      md: 'text-base',\n    }[attrs.size || 'sm'],\n    'text-ink-gray-5',\n  ]\n})\n</script>\n","import { globalStore } from '@/stores/global'\nimport { getMeta } from '@/stores/meta'\nimport { call, createListResource, toast } from 'frappe-ui'\nimport { reactive } from 'vue'\nimport router from '@/router'\n\nconst doctypeScripts = reactive({})\n\nexport function getScript(doctype, view = 'Form') {\n  const scripts = createListResource({\n    doctype: 'CRM Form Script',\n    cache: ['Form Scripts', doctype, view],\n    fields: ['name', 'dt', 'view', 'script'],\n    filters: { view, dt: doctype, enabled: 1 },\n    onSuccess: (_scripts) => {\n      for (let script of _scripts) {\n        if (!doctypeScripts[doctype]) {\n          doctypeScripts[doctype] = {}\n        }\n        doctypeScripts[doctype][script.name] = script || {}\n      }\n    },\n    onError: (err) => {\n      console.error(\n        `Error loading CRM Form Scripts for ${doctype} (view: ${view}):`,\n        err,\n      )\n    },\n  })\n\n  if (!doctypeScripts[doctype] && !scripts.loading) {\n    scripts.fetch()\n  }\n\n  async function setupScript(document, helpers = {}) {\n    await scripts.list.promise\n\n    let scriptDefs = doctypeScripts[doctype]\n    if (!scriptDefs || Object.keys(scriptDefs).length === 0) return null\n\n    const { $dialog, $socket } = globalStore()\n\n    helpers.createDialog = $dialog\n    helpers.toast = toast\n    helpers.socket = $socket\n    helpers.router = router\n    helpers.call = call\n\n    helpers.throwError = (message) => {\n      toast.error(message || __('An error occurred'))\n      throw new Error(message || __('An error occurred'))\n    }\n\n    return setupMultipleFormControllers(scriptDefs, document, helpers)\n  }\n\n  function setupMultipleFormControllers(scriptStrings, document, helpers) {\n    const controllers = []\n    let parentInstanceIdx = null\n\n    for (let scriptName in scriptStrings) {\n      let script = scriptStrings[scriptName]?.script\n      if (!script) continue\n      try {\n        const classNames = getClassNames(script)\n        if (!classNames) continue\n\n        classNames.forEach((className) => {\n          const FormClass = evaluateFormClass(script, className, helpers)\n          if (!FormClass) return\n\n          let parentInstance = null\n          let doctypeName = doctype.replace(/\\s+/g, '')\n\n          let { doctypeMeta } = getMeta(doctype)\n\n          // if className is not doctype name, then it is a child doctype\n          let isChildDoctype = className !== doctypeName\n\n          if (isChildDoctype) {\n            if (!controllers.length) {\n              console.error(\n                __(\n                  '⚠️ No class found for doctype: {0}, it is mandatory to have a class for the parent doctype. it can be empty, but it should be present.',\n                  [doctype],\n                ),\n              )\n              return\n            }\n            parentInstance = controllers[parentInstanceIdx]\n          } else {\n            parentInstanceIdx = controllers.length || 0\n          }\n\n          const instance = setupFormController(\n            FormClass,\n            doctypeMeta,\n            document,\n            parentInstance,\n            isChildDoctype,\n          )\n\n          controllers.push(instance)\n        })\n      } catch (err) {\n        console.error(__('Failed to load form controller: {0}', [err]))\n      }\n    }\n\n    return controllers\n  }\n\n  function setupFormController(\n    FormClass,\n    meta,\n    document,\n    parentInstance = null,\n    isChildDoctype = false,\n  ) {\n    document.actions = document.actions || []\n    document.statuses = document.statuses || []\n\n    let instance = new FormClass()\n\n    // Store the original document context to be used by properties like 'actions'\n    instance._originalDocumentContext = document\n    instance._isChildDoctype = isChildDoctype\n\n    for (const key in document) {\n      if (document.hasOwnProperty(key)) {\n        instance[key] = document[key]\n      }\n    }\n\n    instance.getMeta = async (doctype) => {\n      if (!meta[doctype]) {\n        await getMeta(doctype)\n        return meta[doctype]\n      }\n      return meta[doctype]\n    }\n\n    const getDoc = () => document.doc\n\n    if (isChildDoctype) {\n      instance.doc = createDocProxy(getDoc, parentInstance, instance)\n\n      if (!parentInstance._childInstances) {\n        parentInstance._childInstances = []\n      }\n\n      parentInstance._childInstances.push(instance)\n    } else {\n      instance.doc = createDocProxy(getDoc, instance)\n    }\n\n    return instance\n  }\n\n  function setupHelperMethods(FormClass) {\n    if (typeof FormClass.prototype.getRow !== 'function') {\n      FormClass.prototype.getRow = function (parentField, idx) {\n        idx = idx || this.currentRowIdx\n\n        let dt = null\n\n        if (this instanceof Array) {\n          const { getFields } = getMeta(this.doc.doctype)\n          let fields = getFields()\n          let field = fields.find((f) => f.fieldname === parentField)\n          dt = field?.options?.replace(/\\s+/g, '')\n\n          if (!idx && dt) {\n            idx = this.find((r) => r.constructor.name === dt)?.currentRowIdx\n          }\n        }\n\n        if (!this.doc[parentField]) {\n          console.warn(\n            __('⚠️ No data found for parent field: {0}', [parentField]),\n          )\n          return null\n        }\n        const row = this.doc[parentField].find((r) => r.idx === idx)\n\n        if (!row) {\n          console.warn(\n            __('⚠️ No row found for idx: {0} in parent field: {1}', [\n              idx,\n              parentField,\n            ]),\n          )\n          return null\n        }\n\n        row.parent = row.parent || this.doc.name\n\n        if (this instanceof Array && dt) {\n          return createDocProxy(\n            row,\n            this.find((r) => r.constructor.name === dt),\n          )\n        }\n\n        return createDocProxy(row, this)\n      }\n    }\n\n    if (!Object.prototype.hasOwnProperty.call(FormClass.prototype, 'actions')) {\n      Object.defineProperty(FormClass.prototype, 'actions', {\n        configurable: true,\n        enumerable: true,\n        get() {\n          if (!this._originalDocumentContext) {\n            console.warn(\n              'CRM Script: _originalDocumentContext not found on instance for actions getter.',\n            )\n            return []\n          }\n\n          return this._originalDocumentContext.actions\n        },\n        set(newValue) {\n          if (!this._originalDocumentContext) {\n            console.warn(\n              'CRM Script: _originalDocumentContext not found on instance for actions setter.',\n            )\n            return\n          }\n          if (!Array.isArray(newValue)) {\n            console.warn(\n              'CRM Script: \"actions\" property must be an array. Value was not set.',\n              newValue,\n            )\n            this._originalDocumentContext.actions = []\n            return\n          }\n          this._originalDocumentContext.actions = newValue\n        },\n      })\n    }\n\n    if (\n      !Object.prototype.hasOwnProperty.call(FormClass.prototype, 'statuses')\n    ) {\n      Object.defineProperty(FormClass.prototype, 'statuses', {\n        configurable: true,\n        enumerable: true,\n        get() {\n          if (!this._originalDocumentContext) {\n            console.warn(\n              'CRM Script: _originalDocumentContext not found on instance for statuses getter.',\n            )\n            return []\n          }\n\n          return this._originalDocumentContext.statuses\n        },\n        set(newValue) {\n          if (!this._originalDocumentContext) {\n            console.warn(\n              'CRM Script: _originalDocumentContext not found on instance for statuses setter.',\n            )\n            return\n          }\n          if (!Array.isArray(newValue)) {\n            console.warn(\n              'CRM Script: \"statuses\" property must be an array. Value was not set.',\n              newValue,\n            )\n            this._originalDocumentContext.statuses = []\n            return\n          }\n          this._originalDocumentContext.statuses = newValue\n        },\n      })\n    }\n  }\n\n  // utility function to setup a form controller\n  function getClassNames(script) {\n    const withoutComments = script\n      .replace(/\\/\\/.*$/gm, '') // Remove single-line comments\n      .replace(/\\/\\*[\\s\\S]*?\\*\\//g, '') // Remove multi-line comments\n\n    // Match class declarations\n    return (\n      [...withoutComments.matchAll(/class\\s+([A-Za-z0-9_]+)/g)].map(\n        (match) => match[1],\n      ) || []\n    )\n  }\n\n  function evaluateFormClass(script, className, helpers = {}) {\n    const helperKeys = Object.keys(helpers)\n    const helperValues = Object.values(helpers)\n\n    const wrappedScript = `\n\t\t${script}\n\t\treturn ${className};\n\t`\n\n    const FormClass = new Function(...helperKeys, wrappedScript)(\n      ...helperValues,\n    )\n\n    setupHelperMethods(FormClass)\n\n    return FormClass\n  }\n\n  function createDocProxy(source, instance, childInstance = null) {\n    const isFunction = typeof source === 'function'\n    const getCurrentData = () => (isFunction ? source() : source)\n\n    return new Proxy(\n      {},\n      {\n        get(target, prop) {\n          const currentDocData = getCurrentData()\n          if (!currentDocData) return undefined\n\n          if (prop === 'trigger') {\n            if (currentDocData && 'trigger' in currentDocData) {\n              console.warn(\n                __(\n                  '⚠️ Avoid using \"trigger\" as a field name — it conflicts with the built-in trigger() method.',\n                ),\n              )\n            }\n\n            return (methodName, ...args) => {\n              const method = instance[methodName]\n              if (typeof method === 'function') {\n                return method.apply(instance, args)\n              } else {\n                console.warn(\n                  __('⚠️ Method \"{0}\" not found in class.', [methodName]),\n                )\n              }\n            }\n          }\n\n          if (prop === 'getRow') {\n            return instance.getRow.bind(\n              childInstance || instance._childInstances || instance,\n            )\n          }\n\n          return currentDocData[prop]\n        },\n        set(target, prop, value) {\n          const currentDocData = getCurrentData()\n          if (!currentDocData) return false\n\n          currentDocData[prop] = value\n          return true\n        },\n        has(target, prop) {\n          const currentDocData = getCurrentData()\n          if (!currentDocData) return false\n          return prop in currentDocData\n        },\n        ownKeys(target) {\n          const currentDocData = getCurrentData()\n          if (!currentDocData) return []\n          return Reflect.ownKeys(currentDocData)\n        },\n        getOwnPropertyDescriptor(target, prop) {\n          const currentDocData = getCurrentData()\n          if (!currentDocData) return undefined\n          return Reflect.getOwnPropertyDescriptor(currentDocData, prop)\n        },\n      },\n    )\n  }\n\n  return {\n    scripts,\n    setupScript,\n    setupFormController,\n  }\n}\n","import { getScript } from '@/data/script'\nimport { globalStore } from '@/stores/global'\nimport { getMeta } from '@/stores/meta'\nimport { showSettings, activeSettingsPage } from '@/composables/settings'\nimport { runSequentially, parseAssignees, evaluateExpression } from '@/utils'\nimport { createDocumentResource, createResource, toast } from 'frappe-ui'\nimport { ref, reactive } from 'vue'\n\nconst documentsCache = {}\nconst controllersCache = {}\nconst assigneesCache = {}\nconst permissionsCache = {}\n\nexport function useDocument(doctype, docname, resourceOverrides = {}) {\n  const { setupScript, scripts } = getScript(doctype)\n  const meta = getMeta(doctype)\n\n  documentsCache[doctype] = documentsCache[doctype] || {}\n\n  const error = ref('')\n\n  if (!documentsCache[doctype][docname || '']) {\n    if (docname) {\n      documentsCache[doctype][docname] = createDocumentResource({\n        doctype: doctype,\n        name: docname,\n        onSuccess: async () => await setupFormScript(),\n        onError: (err) => {\n          error.value = err\n          if (err.exc_type === 'DoesNotExistError') {\n            toast.error(__(err.messages[0] || 'Document does not exist'))\n          }\n          if (err.exc_type === 'PermissionError') {\n            toast.error(\n              __(\n                err.messages[0] ||\n                  'You do not have permission to access this document',\n              ),\n            )\n          }\n        },\n        setValue: {\n          validate,\n          onSuccess: () => {\n            triggerOnSave()\n            toast.success(__('Document updated successfully'))\n          },\n          onError: (err) => {\n            triggerOnError(err)\n\n            if (err.exc_type == 'MandatoryError') {\n              const fieldName = err.messages\n                .map((msg) => {\n                  let arr = msg.split(': ')\n                  return arr[arr.length - 1].trim()\n                })\n                .join(', ')\n              toast.error(__('Mandatory field error: {0}', [fieldName]))\n              return\n            }\n\n            err.messages?.forEach((msg) => {\n              toast.error(msg)\n            })\n\n            if (err.messages?.length === 0) {\n              toast.error(__('An error occurred while updating the document'))\n            }\n\n            console.error(err)\n          },\n        },\n        ...resourceOverrides\n      })\n    } else {\n      documentsCache[doctype][''] = reactive({\n        doc: {},\n      })\n      setupFormScript()\n    }\n  }\n\n  assigneesCache[doctype] = assigneesCache[doctype] || {}\n\n  if (!assigneesCache[doctype][docname || '']) {\n    assigneesCache[doctype][docname || ''] = createResource({\n      url: 'crm.api.doc.get_assigned_users',\n      cache: `assignees:${doctype}:${docname}`,\n      auto: docname ? true : false,\n      params: {\n        doctype: doctype,\n        name: docname,\n      },\n      transform: (data) => parseAssignees(data),\n    })\n  }\n\n  permissionsCache[doctype] = permissionsCache[doctype] || {}\n\n  if (!permissionsCache[doctype][docname || '']) {\n    permissionsCache[doctype][docname || ''] = createResource({\n      url: 'frappe.client.get_doc_permissions',\n      cache: `permissions:${doctype}:${docname}`,\n      auto: docname ? true : false,\n      params: {\n        doctype: doctype,\n        docname: docname,\n      },\n      initialData: { permissions: {} },\n    })\n  }\n\n  async function setupFormScript() {\n    if (\n      controllersCache[doctype] &&\n      typeof controllersCache[doctype][docname || ''] === 'object'\n    ) {\n      return\n    }\n\n    if (!controllersCache[doctype]) {\n      controllersCache[doctype] = {}\n    }\n\n    controllersCache[doctype][docname || ''] = {}\n\n    const { makeCall } = globalStore()\n\n    let helpers = {}\n\n    helpers.crm = {\n      makePhoneCall: makeCall,\n      openSettings: (page) => {\n        showSettings.value = true\n        activeSettingsPage.value = page\n      },\n    }\n\n    const controllersArray = await setupScript(\n      documentsCache[doctype][docname || ''],\n      helpers,\n    )\n\n    if (!controllersArray || controllersArray.length === 0) return\n\n    const organizedControllers = {}\n    for (const controller of controllersArray) {\n      const controllerKey = controller.constructor.name // e.g., \"CRMLead\", \"CRMProducts\"\n      if (!organizedControllers[controllerKey]) {\n        organizedControllers[controllerKey] = []\n      }\n      organizedControllers[controllerKey].push(controller)\n    }\n    controllersCache[doctype][docname || ''] = organizedControllers\n\n    triggerOnLoad()\n  }\n\n  function getControllers(row = null) {\n    const _doctype = row?.doctype || doctype\n    const controllerKey = _doctype.replace(/\\s+/g, '')\n\n    const docControllers = controllersCache[doctype]?.[docname || '']\n\n    if (\n      typeof docControllers === 'object' &&\n      docControllers !== null &&\n      !Array.isArray(docControllers)\n    ) {\n      return docControllers[controllerKey] || []\n    }\n    return []\n  }\n\n  function validate(d) {\n    checkMandatory(d.doc || d.fieldname)\n  }\n\n  function checkMandatory(doc) {\n    let fields = meta?.getFields() || []\n\n    if (!fields || fields.length === 0) return\n\n    let missingFields = []\n\n    fields.forEach((df) => {\n      let parent = meta?.doctypeMeta?.[df.parent] || null\n      if (evaluateExpression(df.mandatory_depends_on, doc, parent)) {\n        const value = doc[df.fieldname]\n        if (\n          value === undefined ||\n          value === null ||\n          (typeof value === 'string' && value.trim() === '') ||\n          (Array.isArray(value) && value.length === 0)\n        ) {\n          missingFields.push(df.label || df.fieldname)\n        }\n      }\n    })\n\n    if (missingFields.length > 0) {\n      toast.error(\n        __('Mandatory fields required: {0}', [missingFields.join(', ')]),\n      )\n      throw new Error(\n        __('Mandatory fields required: {0}', [missingFields.join(', ')]),\n      )\n    }\n  }\n\n  async function triggerOnLoad() {\n    const handler = async function () {\n      await (this.onLoad?.() || this.on_load?.() || this.onload?.())\n    }\n    await trigger(handler)\n  }\n\n  async function triggerOnBeforeCreate() {\n    const args = Array.from(arguments)\n    const handler = async function () {\n      await (this.onBeforeCreate?.(...args) || this.on_before_create?.(...args))\n    }\n    await trigger(handler)\n  }\n\n  async function triggerOnSave() {\n    const handler = async function () {\n      await (this.onSave?.() || this.on_save?.())\n    }\n    await trigger(handler)\n  }\n\n  async function triggerOnError() {\n    const handler = async function () {\n      await (this.onError?.() || this.on_error?.())\n    }\n    await trigger(handler)\n  }\n\n  async function triggerOnRefresh() {\n    const handler = async function () {\n      await this.refresh?.()\n    }\n    await trigger(handler)\n  }\n\n  async function triggerOnChange(fieldname, value, row) {\n    let oldValue = null\n    if (row) {\n      oldValue = row[fieldname]\n      row[fieldname] = value\n    } else {\n      oldValue = documentsCache[doctype][docname || ''].doc[fieldname]\n      documentsCache[doctype][docname || ''].doc[fieldname] = value\n    }\n\n    const handler = async function () {\n      this.value = value\n      this.oldValue = oldValue\n      if (row) {\n        this.currentRowIdx = row.idx\n      }\n      await this[fieldname]?.()\n    }\n\n    try {\n      await trigger(handler, row)\n    } catch (error) {\n      if (row) {\n        row[fieldname] = oldValue\n      } else {\n        documentsCache[doctype][docname || ''].doc[fieldname] = oldValue\n      }\n      console.error(handler)\n      throw error\n    }\n  }\n\n  async function triggerOnRowAdd(row) {\n    const handler = async function () {\n      this.currentRowIdx = row.idx\n      this.value = row\n      await this[row.parentfield + '_add']?.()\n    }\n\n    await trigger(handler, row)\n  }\n\n  async function triggerOnRowRemove(selectedRows, rows) {\n    const handler = async function () {\n      if (selectedRows.size === 1) {\n        const selectedRow = Array.from(selectedRows)[0]\n        this.currentRowIdx = rows.find((r) => r.name === selectedRow).idx\n      } else {\n        delete this.currentRowIdx\n      }\n\n      this.selectedRows = Array.from(selectedRows)\n      this.rows = rows\n\n      await this[rows[0].parentfield + '_remove']?.()\n    }\n\n    await trigger(handler, rows[0])\n  }\n\n  async function triggerOnCreateLead() {\n    const args = Array.from(arguments)\n    const handler = async function () {\n      await (this.onCreateLead?.(...args) || this.on_create_lead?.(...args))\n    }\n    await trigger(handler)\n  }\n\n  async function triggerConvertToDeal() {\n    const args = Array.from(arguments)\n    const handler = async function () {\n      await (this.convertToDeal?.(...args) || this.convert_to_deal?.(...args))\n    }\n    await trigger(handler)\n  }\n\n  async function trigger(taskFn, row = null) {\n    const controllers = getControllers(row)\n    if (!controllers.length) return\n\n    const tasks = controllers.map(\n      (controller) => async () => await taskFn.call(controller),\n    )\n\n    await runSequentially(tasks)\n  }\n\n  return {\n    document: documentsCache[doctype][docname || ''],\n    assignees: assigneesCache[doctype][docname || ''],\n    permissions: permissionsCache[doctype][docname || ''],\n    scripts,\n    error,\n    validate,\n    getControllers,\n    triggerOnLoad,\n    triggerOnBeforeCreate,\n    triggerOnSave,\n    triggerOnError,\n    triggerOnRefresh,\n    triggerOnChange,\n    triggerOnRowAdd,\n    triggerOnRowRemove,\n    setupFormScript,\n    triggerOnCreateLead,\n    triggerConvertToDeal,\n  }\n}\n","import { ref } from 'vue';\n\nexport const showQuickEntryModal = ref(false);\nexport const quickEntryProps = ref({});\n\nexport const showAddressModal = ref(false);\nexport const addressProps = ref({});\n\nexport const showAboutModal = ref(false);\n\nexport const showChangePasswordModal = ref(false);"],"names":["RovingFocusItem_vue_vue_type_script_setup_true_lang_default","defineComponent","__props","props","context","injectRovingFocusGroupContext","randomId","useId","id","computed","isCurrentTabStop","getItems","CollectionItem","useCollection","onMounted","onUnmounted","handleKeydown","event","focusIntent","getFocusIntent","candidateNodes","i","currentIndex","wrapArray","nextTick","focusFirst","_ctx","_cache","openBlock","createBlock","unref","withCtx","createVNode","Primitive","$event","renderSlot","RovingFocusItem_default","injectTabsRootContext","provideTabsRootContext","createContext","TabsRoot_vue_vue_type_script_setup_true_lang_default","__emit","emits","orientation","unmountOnHide","propDir","toRefs","dir","useDirection","useForwardExpose","modelValue","useVModel","tabsList","ref","value","TabsRoot_default","makeTriggerId","baseId","makeContentId","TabsContent_vue_vue_type_script_setup_true_lang_default","forwardRef","rootContext","triggerId","contentId","isSelected","isMountAnimationPreventedRef","Presence_default","present","normalizeStyle","createCommentVNode","TabsContent_default","TabsIndicator_vue_vue_type_script_setup_true_lang_default","activeTab","indicatorStyle","watch","updateIndicatorStyle","useResizeObserver","_a","mergeProps","TabsIndicator_default","TabsList_vue_vue_type_script_setup_true_lang_default","loop","currentElement","RovingFocusGroup_default","TabsList_default","TabsTrigger_vue_vue_type_script_setup_true_lang_default","withModifiers","withKeys","isAutomaticActivation","TabsTrigger_default","indicatorXCss","indicatorYCss","model","_useModel","Btn","h","_createBlock","_unref","TabsRoot","_createVNode","TabsList","TabsIndicator","_normalizeClass","_createElementVNode","_openBlock","_createElementBlock","_Fragment","tab","TabsTrigger","_renderSlot","_mergeProps","_resolveDynamicComponent","_toDisplayString","TabsContent","__default__","hide","opened","toggle","open","close","_normalizeProps","_guardReactiveProps","_component_FeatherIcon","__","_Transition","_withDirectives","$attrs","isMac","_hoisted_1","LucideCommand","_hoisted_3","LucideShift","_hoisted_4","LucideAlt","show","showEye","v","_withKeys","_withModifiers","Tooltip","_hoisted_2","_createTextVNode","KeyboardShortcut","$slots","attrs","useAttrs","isFocused","inputRef","handleFocus","displayValue","descriptionClasses","doctypeScripts","reactive","getScript","doctype","view","scripts","createListResource","_scripts","script","err","setupScript","document","helpers","scriptDefs","$dialog","$socket","globalStore","toast","router","call","message","setupMultipleFormControllers","scriptStrings","controllers","parentInstanceIdx","scriptName","classNames","getClassNames","className","FormClass","evaluateFormClass","parentInstance","doctypeName","doctypeMeta","getMeta","isChildDoctype","instance","setupFormController","meta","key","getDoc","createDocProxy","setupHelperMethods","parentField","idx","dt","getFields","field","f","_b","r","row","newValue","match","helperKeys","helperValues","wrappedScript","source","childInstance","isFunction","getCurrentData","target","prop","currentDocData","methodName","args","method","documentsCache","controllersCache","assigneesCache","permissionsCache","useDocument","docname","resourceOverrides","error","createDocumentResource","setupFormScript","validate","triggerOnSave","triggerOnError","fieldName","msg","arr","createResource","data","parseAssignees","makeCall","page","showSettings","activeSettingsPage","controllersArray","organizedControllers","controller","controllerKey","triggerOnLoad","getControllers","docControllers","d","checkMandatory","doc","fields","missingFields","df","parent","evaluateExpression","trigger","_c","triggerOnBeforeCreate","triggerOnRefresh","triggerOnChange","fieldname","oldValue","handler","triggerOnRowAdd","triggerOnRowRemove","selectedRows","rows","selectedRow","triggerOnCreateLead","triggerConvertToDeal","taskFn","tasks","runSequentially","showQuickEntryModal","quickEntryProps","showAddressModal","addressProps","showAboutModal","showChangePasswordModal"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}