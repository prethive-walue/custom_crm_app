import{k as _,b as n,c as p,z as w,e as f,t as H,u as s,g,I as A,a8 as E,A as R,l as M,x as b,aJ as X,O as $,P as z,n as C,Y as G,ae as N,F as T,f as V,B as U,a2 as K,d as L,w as I,U as J,_ as Q,Q as Y,bw as Z,aI as ee,p as te,y as q,G as se}from"./index-cabbcd3b.js";const oe={class:"flex h-full w-full flex-col items-center justify-center text-base"},le={class:"text-xl font-medium text-ink-gray-8 mt-6"},ne={class:"mt-1 text-base text-ink-gray-5"},re={__name:"ListEmptyState",setup(l){const t=_("list");return(e,o)=>(n(),p("div",oe,[w(e.$slots,"default",{},()=>[f("div",le,H(s(t).options.emptyState.title),1),f("div",ne,H(s(t).options.emptyState.description),1),s(t).options.emptyState.button?(n(),g(s(E),A({key:0},s(t).options.emptyState.button,{class:"mt-4"}),null,16)):R("",!0)])]))}},ae=re;function P(l,t=!0){let e=t?"14px ":"",o=l.map(r=>{let i=r.width||1;return typeof i=="number"?i+"fr":i}).join(" ");return e+o}const D={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},ie={class:"truncate"},ue={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(l,{emit:t}){const e=l,o=t,r=M(null),i=M(null),d=b(()=>{if(typeof e.item.width=="string"){const v=parseInt(e.item.width);if(e.item.width.includes("rem"))return v*16;if(e.item.width.includes("px"))return v}return i.value.offsetWidth}),k=v=>{const m=v.clientX,y=d.value,h=u=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),r.value.style.backgroundColor="rgb(199 199 199)";let c=y+(u.clientX-m);e.item.width=`${c<50?50:c}px`,S(e.item.width)},a=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),r.value.style.backgroundColor="",window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",h),window.addEventListener("mouseup",a)},S=X(v=>{e.item.width=v,o("columnWidthUpdated")},e.debounce),j=_("list");return(v,m)=>(n(),p("div",{ref_key:"columnRef",ref:i,class:C(["group relative flex items-center",l.item.align?s(D)[l.item.align]:"justify-between"])},[f("div",{class:C(["flex items-center space-x-2 truncate text-sm text-ink-gray-5",v.$attrs.class])},[w(v.$slots,"prefix",$(z({item:l.item}))),w(v.$slots,"default",{},()=>[f("div",ie,H(l.item.label),1)]),w(v.$slots,"suffix",$(z({item:l.item})))],2),s(j).options.resizeColumn?w(v.$slots,"resizer",$(A({key:0},{item:l.item})),()=>[f("div",{class:"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center",onMousedown:k},[f("div",{ref_key:"resizer",ref:r,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):R("",!0)],2))}},ce=ue,de={__name:"ListHeader",emits:["columnWidthUpdated"],setup(l,{emit:t}){const e=t,o=_("list");return(r,i)=>(n(),p("div",{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2",style:U({gridTemplateColumns:s(P)(s(o).columns,s(o).options.selectable)})},[s(o).options.selectable?(n(),g(N,{key:0,class:"cursor-pointer duration-300",modelValue:s(o).allRowsSelected,onClick:G(s(o).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):R("",!0),w(r.$slots,"default",{},()=>[(n(!0),p(T,null,V(s(o).columns,d=>(n(),g(ce,{key:d.key,item:d,onColumnWidthUpdated:k=>e("columnWidthUpdated",d)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},pe=de,fe={class:"truncate text-base"},me={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(l){const t=l,e=b(()=>{var d,k;return(d=t.column)!=null&&d.getLabel?(k=t.column)==null?void 0:k.getLabel({row:t.row}):r(t.item).label||""}),o=b(()=>i.value.options.showTooltip?t.column.getTooltip?t.column.getTooltip(t.row):r(t.item).label:"");function r(d){return d&&typeof d=="object"?d:{label:d}}const i=_("list");return(d,k)=>(n(),p("div",{class:C(["flex items-center space-x-2",s(D)[l.align]])},[w(d.$slots,"prefix",{},()=>[l.column.prefix?(n(),g(K(typeof l.column.prefix=="function"?l.column.prefix({row:l.row}):l.column.prefix),{key:0})):R("",!0)]),L(s(J),$(z(s(i).options.showTooltip?{text:o.value}:{text:""})),{default:I(()=>[w(d.$slots,"default",$(z({label:e.value})),()=>[f("div",fe,H(e.value),1)])]),_:3},16),w(d.$slots,"suffix")],2))}},we=me,ve={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(l){const t=l,e=_("list"),o=b(()=>{var m;return(m=e.value.rows)!=null&&m.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===t.row[e.value.rowKey]:!1}),r=b(()=>e.value.selections.has(t.row[e.value.rowKey])),i=b(()=>e.value.options.enableActive&&e.value.activeRow.value===t.row.name),d=b(()=>e.value.options.getRowRoute||e.value.options.onRowClick),k=b(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight),S=b(()=>{var h,a,u;if(!r.value)return"rounded";const m=[...e.value.selections];let y=(h=e.value.rows[0])!=null&&h.group?e.value.rows.map(c=>c.rows):[e.value.rows];for(let c of y){let W=c.findIndex(B=>B==t.row);if(W===-1)continue;let O=!m.includes((a=c[W+1])==null?void 0:a.name),x=!m.includes((u=c[W-1])==null?void 0:u.name);return(O?"rounded-b ":"")+(x?"rounded-t":"")}}),j=m=>{e.value.options.onRowClick&&e.value.options.onRowClick(t.row,m),e.value.activeRow.value===t.row.name?e.value.activeRow.value=null:e.value.activeRow.value=t.row.name},v=m=>{const y=t.row[e.value.rowKey];if(m.shiftKey&&!e.value.selections.has(y)){const h=Array.from(e.value.selections).pop(),a=e.value.rows.find(x=>x.group)?e.value.rows.reduce((x,B)=>x.concat(B.rows),[]):e.value.rows,u=a.findIndex(x=>h===x[e.value.rowKey]),c=a.findIndex(x=>y===x[e.value.rowKey]),W=Math.min(u,c),O=Math.max(u,c);for(let x=W;x<=O;x++)e.value.selections.add(a[x][e.value.rowKey])}else e.value.toggleRow(y)};return(m,y)=>(n(),g(K(s(e).options.getRowRoute?"router-link":"div"),A({class:[[S.value,r.value||i.value?"bg-surface-gray-2":"",d.value?"cursor-pointer":"",d.value?r.value||i.value?"hover:bg-surface-gray-3":"hover:bg-surface-menu-bar":""],"flex flex-col transition-all duration-300 ease-in-out"]},{to:s(e).options.getRowRoute?s(e).options.getRowRoute(l.row):void 0,onClick:j}),{default:I(()=>[(n(),g(K(s(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:I(()=>{var h,a;return[f("div",{class:"grid items-center space-x-4 px-2",style:U({height:k.value,gridTemplateColumns:s(P)(s(e).columns,s(e).options.selectable)})},[s(e).options.selectable?(n(),p("div",{key:0,class:"w-fit pr-2 py-3 flex",onClick:y[0]||(y[0]=G(()=>{},["stop","prevent"])),onDblclick:y[1]||(y[1]=G(()=>{},["stop"]))},[L(N,{modelValue:r.value,class:"cursor-pointer duration-300",onClick:G(v,["stop"])},null,8,["modelValue"])],32)):R("",!0),(n(!0),p(T,null,V(s(e).columns,(u,c)=>(n(),p("div",{key:u.key,class:C([s(D)[u.align],c==0?"text-ink-gray-9":"text-ink-gray-7"])},[w(m.$slots,"default",A({ref_for:!0},{idx:c,column:u,item:l.row[u.key],isActive:i.value}),()=>[s(e).slots.cell?(n(),g(K(s(e).slots.cell),A({key:0,ref_for:!0},{column:u,row:l.row,item:l.row[u.key],align:u.align}),null,16)):(n(),g(we,{key:1,column:u,row:l.row,item:l.row[u.key],align:u.align},null,8,["column","row","item","align"]))])],2))),128))],4),o.value?R("",!0):(n(),p("div",{key:0,class:C(["h-px border-t",S.value==="rounded"||(a=(h=S.value)==null?void 0:h.includes)!=null&&a.call(h,"rounded-b")?"mx-2 border-outline-gray-1":"border-t-[--surface-gray-2]"])},null,2))]}),_:3}))]),_:3},16,["class"]))}},F=ve,ge={class:"h-full overflow-y-auto"},ye={__name:"ListRows",setup(l){const t=_("list");return(e,o)=>(n(),p("div",ge,[w(e.$slots,"default",{},()=>[(n(!0),p(T,null,V(s(t).rows,r=>(n(),g(F,{key:r[s(t).rowKey],row:r},null,8,["row"]))),128))])]))}},he=ye,be={},xe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function ke(l,t){return n(),p("svg",xe,[...t[0]||(t[0]=[f("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)])])}const Re=Q(be,[["render",ke]]),$e={class:"flex items-center"},_e={class:"w-full py-1.5 pr-2"},Le={key:1,class:"text-base font-medium leading-6"},Ce={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(l){const t=l,e=_("list");function o(){t.group.collapsed==null&&(t.group.collapsed=!1),t.group.collapsed=!t.group.collapsed}return(r,i)=>(n(),p(T,null,[f("div",$e,[f("button",{onClick:o,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2"},[L(Re,{class:C(["h-4 w-4 text-ink-gray-6 transition-transform duration-200",[l.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),w(r.$slots,"default",{},()=>[f("div",_e,[s(e).slots["group-header"]?(n(),g(K(s(e).slots["group-header"]),$(A({key:0},{group:l.group})),null,16)):(n(),p("span",Le,H(l.group.group),1))])])]),i[0]||(i[0]=f("div",{class:"mx-2 h-px border-t border-outline-gray-modals"},null,-1))],64))}},Se=Ce,Ae={key:0,class:"mb-5 mt-2"},je={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(l){const t=_("list");return(e,o)=>l.group.collapsed?R("",!0):(n(),p("div",Ae,[w(e.$slots,"default",{},()=>[(n(!0),p(T,null,V(l.group.rows,r=>(n(),g(F,{key:r[s(t).rowKey],row:r},null,8,["row"]))),128)),s(t).slots["group-empty"]&&l.group.rows.length==0?(n(),g(K(s(t).slots["group-empty"]),$(A({key:0},{group:l.group})),null,16)):R("",!0)])]))}},ze=je,Te={class:"h-full overflow-y-auto"},Ke={__name:"ListGroups",setup(l){const t=_("list");return(e,o)=>(n(),p("div",Te,[(n(!0),p(T,null,V(s(t).rows,r=>(n(),p("div",{key:r.group},[w(e.$slots,"default",{},()=>[L(Se,{group:r},{default:I(()=>[e.$slots["group-header"]?w(e.$slots,"group-header",A({key:0,ref_for:!0},{group:r})):R("",!0)]),_:2},1032,["group"]),L(ze,{group:r},null,8,["group"])])]))),128))]))}},He=Ke,Ie={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},We={class:"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9"},Ve={class:"flex items-center space-x-3"},Ge={class:"mr-3"},Oe={class:"flex items-center space-x-1"},Be=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(l){const t=_("list");let e=b(()=>t.value.options.selectionText(t.value.selections.size));return(o,r)=>(n(),g(Z,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:I(()=>[s(t).selections.size?(n(),p("div",Ie,[f("div",{class:C(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl",o.$attrs.class])},[w(o.$slots,"default",$(z({selections:s(t).selections,allRowsSelected:s(t).allRowsSelected,selectAll:()=>s(t).toggleAllRows(!0),unselectAll:()=>s(t).toggleAllRows(!1)})),()=>[f("div",We,[f("div",Ve,[L(N,{modelValue:!0,disabled:!0,class:"text-ink-gray-9"}),f("div",null,H(s(e)),1)]),f("div",Ge,[w(o.$slots,"actions",$(z({selections:s(t).selections,allRowsSelected:s(t).allRowsSelected,selectAll:()=>s(t).toggleAllRows(!0),unselectAll:()=>s(t).toggleAllRows(!1)})))])]),f("div",Oe,[L(s(E),{class:C(["w- text-ink-gray-7",s(t).allRowsSelected?"cursor-not-allowed":""]),disabled:s(t).allRowsSelected,variant:"ghost",onClick:r[0]||(r[0]=i=>s(t).toggleAllRows(!0))},{default:I(()=>[...r[2]||(r[2]=[Y(" Select all ",-1)])]),_:1},8,["disabled","class"]),L(s(E),{icon:"x",variant:"ghost",onClick:r[1]||(r[1]=i=>s(t).toggleAllRows(!1))})])])],2)])):R("",!0)]),_:3}))}}),Ee=Be,Me={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},Ne=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections","update:active-row"],setup(l,{expose:t,emit:e}){const o=l,r=ee();let i=te(new Set),d=M(null);const k=e;q(i,a=>{i.size&&(d.value=null),k("update:selections",a)}),q(d,a=>{k("update:active-row",a)});let S=b(()=>{function a(c){return c===void 0?!0:c}function u(c){return c===void 0?!1:c}return{getRowRoute:o.options.getRowRoute||null,onRowClick:o.options.onRowClick||null,showTooltip:a(o.options.showTooltip),selectionText:o.options.selectionText||(c=>c===1?"1 row selected":`${c} rows selected`),enableActive:u(o.options.enableActive),selectable:a(o.options.selectable),resizeColumn:u(o.options.resizeColumn),rowHeight:o.options.rowHeight||40,emptyState:o.options.emptyState}});const j=b(()=>o.rows.length?m.value?i.size===o.rows.reduce((a,u)=>a+u.rows.length,0):i.size===o.rows.length:!1),v=b(()=>S.value.selectable);let m=b(()=>o.rows.every(a=>a.group&&a.rows&&Array.isArray(a.rows)));function y(a){i.delete(a)||i.add(a)}function h(a){if(!a||j.value){i.clear();return}if(m.value){o.rows.forEach(u=>{u.rows.forEach(c=>i.add(c[o.rowKey]))});return}o.rows.forEach(u=>i.add(u[o.rowKey]))}return se("list",b(()=>({rowKey:o.rowKey,rows:o.rows,columns:o.columns,options:S.value,selections:i,activeRow:d,allRowsSelected:j.value,slots:r,toggleRow:y,toggleAllRows:h}))),t({selections:i,allRowsSelected:j,toggleRow:y,toggleAllRows:h}),(a,u)=>(n(),p("div",Me,[f("div",{class:C(["flex w-max min-w-full flex-col overflow-y-hidden",a.$attrs.class]),style:U(a.$attrs.style)},[w(a.$slots,"default",$(z({showGroupedRows:s(m),selectable:v.value})),()=>[L(pe),o.rows.length?(n(),p(T,{key:0},[s(m)?(n(),g(He,{key:0})):(n(),g(he,{key:1}))],64)):(n(),g(ae,{key:1})),v.value?(n(),g(Ee,{key:2})):R("",!0)])],6)]))}}),De=Ne;export{pe as L,ce as a,we as b,Ee as c,De as d,Se as e,F as f,ze as g,he as h};
//# sourceMappingURL=ListView-9b64d85d.js.map
