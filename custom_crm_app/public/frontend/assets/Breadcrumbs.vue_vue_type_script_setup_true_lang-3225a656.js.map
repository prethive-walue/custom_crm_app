{"version":3,"file":"Breadcrumbs.vue_vue_type_script_setup_true_lang-3225a656.js","sources":["../../../../frontend/node_modules/frappe-ui/src/components/Breadcrumbs/Breadcrumbs.vue"],"sourcesContent":["<template>\n  <div class=\"flex min-w-0 items-center\" ref=\"crumbsRef\">\n    <template v-if=\"overflowedX && items.length > 2\">\n      <Dropdown class=\"h-7\" :options=\"dropdownItems\">\n        <Button variant=\"ghost\">\n          <template #icon>\n            <LucideEllipsis class=\"w-4 text-ink-gray-5\" />\n          </template>\n        </Button>\n      </Dropdown>\n      <span class=\"ml-1 mr-0.5 text-base text-ink-gray-4\" aria-hidden=\"true\">\n        /\n      </span>\n    </template>\n\n    <div class=\"flex min-w-0 items-center text-ellipsis whitespace-nowrap\">\n      <template v-for=\"(item, i) in crumbs\" :key=\"item.label\">\n        <router-link\n          v-if=\"item.route\"\n          :to=\"item.route\"\n          @click=\"item.onClick ? item.onClick() : null\"\n          class=\"flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3\"\n          :class=\"[\n            i == crumbs.length - 1\n              ? 'text-ink-gray-9'\n              : 'text-ink-gray-5 hover:text-ink-gray-7',\n          ]\"\n        >\n          <slot name=\"prefix\" :item=\"item\" />\n          <span>\n            {{ item.label }}\n          </span>\n          <slot name=\"suffix\" :item=\"item\" />\n        </router-link>\n        <button\n          v-else\n          @click=\"item.onClick ? item.onClick() : null\"\n          class=\"flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3\"\n          :class=\"[\n            i == crumbs.length - 1\n              ? 'text-ink-gray-9'\n              : 'text-ink-gray-5 hover:text-ink-gray-7',\n          ]\"\n        >\n          <slot name=\"prefix\" :item=\"item\" />\n          <span>\n            {{ item.label }}\n          </span>\n          <slot name=\"suffix\" :item=\"item\" />\n        </button>\n        <span\n          v-if=\"i != crumbs.length - 1\"\n          class=\"mx-0.5 text-base text-ink-gray-4\"\n          aria-hidden=\"true\"\n        >\n          /\n        </span>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router'\nimport { Dropdown } from '../Dropdown'\nimport { Button } from '../Button'\nimport type { BreadcrumbsProps } from './types'\nimport { ref, computed, nextTick, useTemplateRef } from 'vue'\nimport { useResizeObserver } from '@vueuse/core'\nimport LucideEllipsis from '~icons/lucide/ellipsis'\n\nconst crumbsEl = useTemplateRef<HTMLDivElement>('crumbsRef')\n\nconst props = defineProps<BreadcrumbsProps>()\n\nconst router = useRouter()\nconst overflowedX = ref(false)\n\nconst items = computed(() => {\n  return (props.items || []).filter(Boolean)\n})\n\nconst checkOverflow = () => {\n  if (!crumbsEl.value) return\n\n  // tmp show all items to measure item width\n  overflowedX.value = false\n\n  nextTick(() => {\n    const scrollWidth = crumbsEl.value?.scrollWidth || 0\n    const clientWidth = crumbsEl.value?.clientWidth || 0\n    overflowedX.value = scrollWidth > clientWidth\n  })\n}\n\nuseResizeObserver(crumbsEl, checkOverflow)\n\nconst dropdownItems = computed(() => {\n  let allExceptLastTwo = items.value.slice(0, -2)\n  return allExceptLastTwo.map((item) => {\n    let onClick = () => {\n      if (item.onClick) {\n        item.onClick()\n      }\n      if (item.route) {\n        router.push(item.route)\n      }\n    }\n    return {\n      ...item,\n      icon: null,\n      label: item.label,\n      onClick,\n    }\n  })\n})\n\nconst crumbs = computed(() => items.value.slice(overflowedX.value ? -2 : 0))\n</script>\n"],"names":["crumbsEl","useTemplateRef","props","__props","router","useRouter","overflowedX","ref","items","computed","useResizeObserver","nextTick","scrollWidth","_a","clientWidth","_b","dropdownItems","item","onClick","crumbs","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_createVNode","_unref","Dropdown","Button","LucideEllipsis","_createElementVNode","_hoisted_2","_renderList","i","_createBlock","_component_router_link","_renderSlot","_ctx","_toDisplayString","_hoisted_4"],"mappings":"87BAuEM,MAAAA,EAAWC,EAA+B,WAAW,EAErDC,EAAQC,EAERC,EAASC,IACTC,EAAcC,EAAI,EAAK,EAEvBC,EAAQC,EAAS,KACbP,EAAM,OAAS,CAAC,GAAG,OAAO,OAAO,CAC1C,EAeDQ,EAAkBV,EAbI,IAAM,CACrBA,EAAS,QAGdM,EAAY,MAAQ,GAEpBK,EAAS,IAAM,SACP,MAAAC,IAAcC,EAAAb,EAAS,QAAT,YAAAa,EAAgB,cAAe,EAC7CC,IAAcC,EAAAf,EAAS,QAAT,YAAAe,EAAgB,cAAe,EACnDT,EAAY,MAAQM,EAAcE,CAAA,CACnC,EAAA,CAGsC,EAEnC,MAAAE,EAAgBP,EAAS,IACND,EAAM,MAAM,MAAM,EAAG,EAAE,EACtB,IAAKS,GAAS,CACpC,IAAIC,EAAU,IAAM,CACdD,EAAK,SACPA,EAAK,QAAQ,EAEXA,EAAK,OACAb,EAAA,KAAKa,EAAK,KAAK,CACxB,EAEK,MAAA,CACL,GAAGA,EACH,KAAM,KACN,MAAOA,EAAK,MACZ,QAAAC,CAAA,CACF,CACD,CACF,EAEKC,EAASV,EAAS,IAAMD,EAAM,MAAM,MAAMF,EAAY,MAAQ,GAAK,CAAC,CAAC,yCApHzE,OAAAc,EAAA,EAAAC,EA0DM,MA1DNC,EA0DM,CAzDYhB,EAAW,OAAIE,EAAK,MAAC,OAAM,OAA3Ca,EAWWE,EAAA,CAAA,IAAA,GAAA,CAVTC,EAMWC,EAAAC,CAAA,EAAA,CAND,MAAM,MAAO,QAASV,EAAa,KAAA,aAC3C,IAIS,CAJTQ,EAISC,EAAAE,CAAA,EAAA,CAJD,QAAQ,SAAO,CACV,OACT,IAA8C,CAA9CH,EAA8CC,EAAAG,CAAA,EAAA,CAA9B,MAAM,sBAAqB,CAAA,2CAIjDC,EAEO,OAAA,CAFD,MAAM,wCAAwC,cAAY,MAAA,EAAO,MAEvE,EAAA,kBAGFA,EA2CM,MA3CNC,EA2CM,EA1CJV,EAAA,EAAA,EAAAC,EAyCWE,EAzCmB,KAAAQ,EAAAZ,EAAA,MAAZ,CAAAF,EAAMe,cAAoB,IAAAf,EAAK,KAAA,GAEvCA,EAAK,WADbgB,EAgBcC,EAAA,OAdX,GAAIjB,EAAK,MACT,WAAOA,EAAK,QAAUA,EAAK,UAAO,KACnC,SAAM,sIAAqI,CACrHe,GAAKb,EAAM,MAAC,OAAM,2EAMxC,IAAmC,CAAnCgB,EAAmCC,EAAA,OAAA,SAAA,CAAd,KAAAnB,EAAU,EAC/BY,EAEO,OAAA,KAAAQ,EADFpB,EAAK,KAAK,EAAA,CAAA,EAEfkB,EAAmCC,EAAA,OAAA,SAAA,CAAd,KAAAnB,EAAU,CAAA,6CAEjCI,EAeS,SAAA,OAbN,WAAOJ,EAAK,QAAUA,EAAK,UAAO,KACnC,SAAM,sIAAqI,CACrHe,GAAKb,EAAM,MAAC,OAAM,iEAMxCgB,EAAmCC,EAAA,OAAA,SAAA,CAAd,KAAAnB,EAAU,EAC/BY,EAEO,OAAA,KAAAQ,EADFpB,EAAK,KAAK,EAAA,CAAA,EAEfkB,EAAmCC,EAAA,OAAA,SAAA,CAAd,KAAAnB,EAAU,CAAA,SAGzBe,GAAKb,EAAM,MAAC,OAAM,OAD1BE,EAMO,OANPiB,EAIC,KAED","x_google_ignoreList":[0]}