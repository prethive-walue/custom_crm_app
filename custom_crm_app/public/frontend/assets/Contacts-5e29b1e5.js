import{_ as S}from"./ViewBreadcrumbs-772e4ab3.js";import{_ as E}from"./CustomActions-051df89f.js";import{C as T}from"./ContactsIcon-506159cf.js";import{_ as j}from"./LayoutHeader-14d19c20.js";import{C as I}from"./ContactModal-671784e7.js";import{_ as O}from"./ContactsListView-f30ced9e.js";import{_ as R}from"./ViewControls-7d016562.js";import{b as W,f as M,t as c}from"./index-98a0eb06.js";import{o as q}from"./organizations-3839bf4b.js";import{l as s,x as G,r as H,b as d,c as A,d as r,w as D,g as y,e as P,t as J,A as _,F as K}from"./index-a3e8239b.js";import"./Icon-c9812454.js";import"./dayjs-de744307.js";import"./DragVerticalIcon-cbd80dc8.js";import"./Link-ce253979.js";import"./FieldLayout-69566732.js";import"./modals-3c1f9e01.js";import"./global-f8b0dbce.js";import"../node_modules/frappe-ui/src/resources/listResource.js";import"./IndicatorIcon-6cac9012.js";import"./ListBulkActions-ab2a2653.js";import"./DeleteLinkedDocModal-fb988008.js";import"./ListView-b8b2188c.js";import"./settings-c75a63ab.js";import"./plus-d2d9d364.js";import"./PhoneIcon-58ab8bcd.js";import"./ListFooter-af9aa9de.js";import"./TabButtons-71b5ed70.js";import"./description-7db9d20b.js";import"./FadedScrollableDiv-143e35ae.js";import"./RefreshIcon-de37e5fb.js";import"./IconPicker-ae1e34a3.js";import"./PinIcon-7b40a90c.js";import"./DateRangePicker.vue_vue_type_script_setup_true_lang-d67000b7.js";import"./DetailsIcon-a948fc9a.js";import"./pageMeta-155cb5a4.js";const Q={key:1,class:"flex h-full items-center justify-center"},X={class:"flex flex-col items-center gap-3 text-xl font-medium text-ink-gray-4"},Be={__name:"Contacts",setup(Y){const{getFormattedPercent:$,getFormattedFloat:x,getFormattedCurrency:B}=W("Contact"),{getOrganization:N}=q(),m=s(!1),f=s(null),l=s({}),v=s(1),g=s(1),C=s(20),i=s(null),k=G(()=>{var u,t,p;return!((t=(u=l.value)==null?void 0:u.data)!=null&&t.data)||!["list","group_by"].includes(l.value.data.view_type)?[]:(p=l.value)==null?void 0:p.data.data.map(e=>{var V;let a={};return(V=l.value)==null||V.data.rows.forEach(o=>{var F,b,L,U;a[o]=e[o];let n=(L=(b=(F=l.value)==null?void 0:F.data.columns)==null?void 0:b.find(z=>(z.key||z.value)==o))==null?void 0:L.type;n&&["Date","Datetime"].includes(n)&&!["modified","creation"].includes(o)&&(a[o]=M(e[o],"",!0,n=="Datetime")),n&&n=="Currency"&&(a[o]=B(o,e)),n&&n=="Float"&&(a[o]=x(o,e)),n&&n=="Percent"&&(a[o]=$(o,e)),o=="full_name"?a[o]={label:e.full_name,image_label:e.full_name,image:e.image}:o=="company_name"?a[o]={label:e.company_name,logo:(U=N(e.company_name))==null?void 0:U.organization_logo}:["modified","creation"].includes(o)&&(a[o]={label:M(e[o]),timeAgo:__(c(e[o]))})}),a})});return(u,t)=>{const p=H("Button");return d(),A(K,null,[r(j,null,{"left-header":D(()=>[r(S,{modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),routeName:"Contacts"},null,8,["modelValue"])]),"right-header":D(()=>{var e;return[(e=f.value)!=null&&e.customListActions?(d(),y(E,{key:0,actions:f.value.customListActions},null,8,["actions"])):_("",!0),r(p,{variant:"solid",label:u.__("Create"),iconLeft:"plus",onClick:t[1]||(t[1]=a=>m.value=!0)},null,8,["label"])]}),_:1}),r(R,{ref_key:"viewControls",ref:i,modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=e=>l.value=e),loadMore:v.value,"onUpdate:loadMore":t[3]||(t[3]=e=>v.value=e),resizeColumn:g.value,"onUpdate:resizeColumn":t[4]||(t[4]=e=>g.value=e),updatedPageCount:C.value,"onUpdate:updatedPageCount":t[5]||(t[5]=e=>C.value=e),doctype:"Contact"},null,8,["modelValue","loadMore","resizeColumn","updatedPageCount"]),l.value.data&&k.value.length?(d(),y(O,{key:0,ref_key:"contactsListView",ref:f,modelValue:l.value.data.page_length_count,"onUpdate:modelValue":t[6]||(t[6]=e=>l.value.data.page_length_count=e),list:l.value,"onUpdate:list":t[7]||(t[7]=e=>l.value=e),rows:k.value,columns:l.value.data.columns,options:{showTooltip:!1,resizeColumn:!0,rowCount:l.value.data.row_count,totalCount:l.value.data.total_count},onLoadMore:t[8]||(t[8]=()=>v.value++),onColumnWidthUpdated:t[9]||(t[9]=()=>g.value++),onUpdatePageCount:t[10]||(t[10]=e=>C.value=e),onApplyFilter:t[11]||(t[11]=e=>i.value.applyFilter(e)),onApplyLikeFilter:t[12]||(t[12]=e=>i.value.applyLikeFilter(e)),onLikeDoc:t[13]||(t[13]=e=>i.value.likeDoc(e)),onSelectionsChanged:t[14]||(t[14]=e=>i.value.updateSelections(e))},null,8,["modelValue","list","rows","columns","options"])):l.value.data?(d(),A("div",Q,[P("div",X,[r(T,{class:"h-10 w-10"}),P("span",null,J(u.__("No {0} Found",[u.__("Contacts")])),1),r(p,{label:u.__("Create"),iconLeft:"plus",onClick:t[15]||(t[15]=e=>m.value=!0)},null,8,["label"])])])):_("",!0),m.value?(d(),y(I,{key:2,modelValue:m.value,"onUpdate:modelValue":t[16]||(t[16]=e=>m.value=e),contact:{}},null,8,["modelValue"])):_("",!0)],64)}}};export{Be as default};
//# sourceMappingURL=Contacts-5e29b1e5.js.map
